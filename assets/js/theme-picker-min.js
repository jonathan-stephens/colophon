const modeToggle=document.querySelector(".js-mode-toggle"),modeStatus=document.querySelector(".js-mode-status"),modeToggleText=document.querySelector(".js-mode-toggle-text"),htmlElement=document.documentElement;function setInitialTheme(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e?applyTheme("dark"===e):t&&applyTheme(!0)}function applyTheme(e){e?(htmlElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),modeStatus.textContent="Color mode is now dark",modeToggleText.textContent="Enable light mode",modeToggle.checked=!0,modeToggle.setAttribute("aria-checked","true")):(htmlElement.removeAttribute("data-theme"),localStorage.removeItem("theme"),modeStatus.textContent="Color mode is now light",modeToggleText.textContent="Enable dark mode",modeToggle.checked=!1,modeToggle.setAttribute("aria-checked","false"))}setInitialTheme(),modeToggle.addEventListener("change",(()=>{applyTheme(!("dark"===htmlElement.getAttribute("data-theme")))})),modeToggle.addEventListener("keydown",(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault(),modeToggle.checked=!modeToggle.checked;applyTheme(!("dark"===htmlElement.getAttribute("data-theme")))}})),window.matchMedia("(prefers-color-scheme: dark)").addListener((e=>{localStorage.getItem("theme")||applyTheme(e.matches)}));