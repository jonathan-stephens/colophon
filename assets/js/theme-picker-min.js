(()=>{function e(){const e=()=>window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light",t=()=>{try{return localStorage.getItem("theme-preference")||"system"}catch{return"system"}},o=t=>"light"===t?"light":"dark"===t?"dark":e(),n=e=>{document.documentElement.dataset.theme=e,document.documentElement.dataset.themeIcon=e},d=()=>{const e=t(),d="dark"===o(e)?"light":"dark";(e=>{try{localStorage.setItem("theme-preference",e)}catch{}})(d),n(d)},r=document.getElementById("theme-toggle-floating"),s=document.getElementById("theme-toggle-footer"),c=document.getElementById("scroll-to-top-floating"),a=document.querySelector(".sticky-bottom");if(!r||!c)return;let i=!1,l=!1,m=!1;const h=()=>{const{scrollY:e,innerHeight:t}=window,{scrollHeight:o}=document.documentElement,n=e>300,d=n&&o-e-t<=100;if(n!==i){i=n;const e=n?"add":"remove";r.classList[e]("show"),c.classList[e]("show"),r.setAttribute("aria-hidden",!n),c.setAttribute("aria-hidden",!n)}if(d!==l){l=d;const e=d?"add":"remove";r.classList[e]("morphed"),c.classList[e]("morphed"),a?.classList[e]("show-controls")}m=!1},u=t(),g=o(u);n(g),[r,c].forEach((e=>{e.setAttribute("aria-hidden","true")})),window.addEventListener("scroll",(()=>{m||(m=!0,requestAnimationFrame(h))}),{passive:!0}),r.addEventListener("click",d),s?.addEventListener("click",d),c.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.matchMedia?.("(prefers-color-scheme: dark)").addEventListener("change",(()=>{if("system"===t()){const t=e();n(t)}})),h()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();