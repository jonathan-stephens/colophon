(()=>{function e(){const e=()=>window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light",t=()=>{try{return localStorage.getItem("theme-preference")||"system"}catch{return"system"}},n=t=>"light"===t?"light":"dark"===t?"dark":e(),o=e=>{document.documentElement.dataset.theme=e,document.documentElement.dataset.themeIcon=e},r=document.getElementById("theme-toggle-footer"),d=document.getElementById("scroll-to-top-floating");if(!d)return;let a=!1,c=!1;const s=()=>{const e=window.scrollY>300;if(e!==a){a=e;const t=e?"add":"remove";d.classList[t]("show"),d.setAttribute("aria-hidden",!e)}c=!1},i=t(),m=n(i);o(m),d.setAttribute("aria-hidden","true"),window.addEventListener("scroll",(()=>{c||(c=!0,requestAnimationFrame(s))}),{passive:!0}),r?.addEventListener("click",(()=>{const e=t(),r="dark"===n(e)?"light":"dark";(e=>{try{localStorage.setItem("theme-preference",e)}catch{}})(r),o(r)})),d.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),window.matchMedia?.("(prefers-color-scheme: dark)").addEventListener("change",(()=>{if("system"===t()){const t=e();o(t)}})),s()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()})();