!function(){"use strict";function e(t,n,r){if(0===t.length)return"";var o='<ol class="toc-list toc-level-'+r+'">';return t.forEach((function(t){var i,l,c=t.children.length>0&&(t.children.length>=n.minSubheadings||r>0);o+='<li class="toc-item toc-level-'+t.level+'">',o+='<a href="#'+t.id+'" class="toc-link" data-level="'+t.level+'">',o+=(i=t.text,(l=document.createElement("div")).textContent=i,l.innerHTML),o+="</a>",c&&(o+=e(t.children,n,r+1)),o+="</li>"})),o+="</ol>"}function t(t,n,r,o){for(var i=[],l=o.minLevel;l<=o.maxLevel;l++)i.push("h"+l);var c=i.join(", "),a=Array.from(r.querySelectorAll(c));if(o.exclude.length>0&&(a=a.filter((function(e){return!o.exclude.some((function(t){try{return e.matches(t)||null!==e.closest(t)||null!==e.querySelector(t)}catch(e){return console.warn("TOC: Invalid exclusion selector:",t,e.message),!1}}))}))),0!==a.length){var s=new Set;a.forEach((function(e){if(e.id)s.add(e.id);else{var t=e.textContent.trim().toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");t||(t="heading");for(var n=t,r=1;s.has(n)||document.getElementById(n);)n=t+"-"+r,r++;e.id=n,s.add(n)}}));var u=function(e){var t=[],n=[];return e.forEach((function(e){for(var r=parseInt(e.tagName.charAt(1)),o={element:e,level:r,text:e.textContent.trim(),id:e.id,children:[]};n.length>0&&n[n.length-1].level>=r;)n.pop();0===n.length?t.push(o):n[n.length-1].children.push(o),n.push(o)})),t}(a);!function(e,t){return function e(n){for(var r=0;r<n.length;r++){var o=n[r];if(o.children.length>=t.minSubheadings)return!0;if(e(o.children))return!0}return!1}(e)}(u,o)?t.classList.add("hidden"):(n.innerHTML=e(u,o,0),t.style.display="",function(e,t){var n=e.querySelectorAll(".toc-link");if(n.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href").substring(1),n=document.getElementById(t);if(n){var r=n.getBoundingClientRect().top+window.pageYOffset-20;window.scrollTo({top:r,behavior:"smooth"}),history.replaceState&&history.replaceState(null,null,"#"+t)}}))})),"IntersectionObserver"in window){var r=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.target.getAttribute("id"),o=e.querySelector('.toc-link[href="#'+r+'"]');o&&t.isIntersecting&&(n.forEach((function(e){e.classList.remove("active")})),o.classList.add("active"))}))}),{rootMargin:"-10% 0px -80% 0px",threshold:0});t.forEach((function(e){r.observe(e)}))}window.location.hash&&setTimeout((function(){var e=document.querySelector(window.location.hash);e&&e.scrollIntoView({behavior:"smooth"})}),100)}(t,a))}else t.classList.add("hidden")}function n(){var e=document.querySelectorAll(".table-of-contents[data-toc-config]");0!==e.length&&e.forEach((function(e){try{var n=JSON.parse(e.getAttribute("data-toc-config")),r=e.id,o=document.getElementById(r+"-content"),i=document.querySelector(n.mainSelector);if(!e||!o||!i)return void console.warn("TOC: Required elements not found for",r);t(e,o,i,n)}catch(e){console.error("TOC: Error processing TOC",e)}}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}();