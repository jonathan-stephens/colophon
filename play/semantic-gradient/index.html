<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dual Gradient Color System: 49 Combinations</title>
  <style>
    :root {
      --color-primary: #3b82f6;
      --color-primary-dark: #2563eb;
      --color-bg: #f9fafb;
      --color-surface: #ffffff;
      --color-border: #e5e7eb;
      --color-text: #111827;
      --color-text-muted: #6b7280;
      --spacing-xs: 0.5rem;
      --spacing-sm: 0.75rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;
      --radius: 0.75rem;
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: var(--color-text);
      background-color: var(--color-bg);
      padding: var(--spacing-lg);
    }

    .container {
      max-width: 90rem;
      margin: 0 auto;
    }

    header {
      margin-bottom: var(--spacing-xl);
    }

    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: var(--spacing-xs);
      color: var(--color-text);
    }

    h2 {
      font-size: 1.875rem;
      font-weight: 600;
      margin-bottom: var(--spacing-lg);
      color: var(--color-text);
    }

    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: var(--spacing-md);
      color: var(--color-text);
    }

    h4 {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: var(--spacing-sm);
      color: var(--color-text);
    }

    .subtitle {
      font-size: 1.125rem;
      color: var(--color-text-muted);
    }

    nav {
      display: flex;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-xl);
      flex-wrap: wrap;
    }

    .tab-button {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-sm) var(--spacing-md);
      border: none;
      border-radius: var(--radius);
      background-color: var(--color-border);
      color: var(--color-text);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .tab-button:hover {
      background-color: #d1d5db;
    }

    .tab-button:focus {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }

    .tab-button[aria-selected="true"] {
      background-color: var(--color-primary);
      color: white;
    }

    .tab-button svg {
      width: 1.125rem;
      height: 1.125rem;
    }

    main {
      background-color: var(--color-surface);
      border-radius: var(--radius);
      padding: var(--spacing-xl);
      box-shadow: var(--shadow-lg);
    }

    .tab-panel {
      display: none;
    }

    .tab-panel[aria-hidden="false"] {
      display: block;
    }

    .color-matrix {
      overflow-x: auto;
      margin-bottom: var(--spacing-lg);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 40rem;
    }

    th, td {
      border: 1px solid var(--color-border);
      text-align: center;
    }

    th {
      background-color: var(--color-bg);
      padding: var(--spacing-sm);
      font-size: 0.875rem;
      font-weight: 500;
    }

    .color-cell {
      padding: 0;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
    }

    .color-cell:hover {
      box-shadow: inset 0 0 0 2px var(--color-primary);
    }

    .color-cell:focus-within {
      box-shadow: inset 0 0 0 2px var(--color-primary);
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }

    .color-cell-button {
      width: 100%;
      height: 4rem;
      border: none;
      background: none;
      cursor: pointer;
    }

    .selected-color {
      margin-top: var(--spacing-lg);
      padding: var(--spacing-lg);
      background-color: var(--color-bg);
      border-radius: var(--radius);
      border: 2px solid #bfdbfe;
    }

    .selected-color-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: var(--spacing-md);
      gap: var(--spacing-md);
    }

    .selected-color-swatch {
      width: 6rem;
      height: 6rem;
      border-radius: var(--radius);
      border: 2px solid var(--color-border);
      box-shadow: var(--shadow);
      flex-shrink: 0;
    }

    .selected-color-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--color-text);
    }

    .selected-color-code {
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      color: var(--color-text-muted);
    }

    .selected-color-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(10rem, 1fr));
      gap: var(--spacing-md);
      font-size: 0.875rem;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .detail-label {
      font-weight: 600;
      color: var(--color-text);
    }

    .detail-value {
      color: var(--color-text-muted);
    }

    .swatch-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(5rem, 1fr));
      gap: var(--spacing-sm);
    }

    .swatch {
      aspect-ratio: 1;
      border-radius: var(--radius);
      border: 2px solid var(--color-border);
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s ease;
      position: relative;
    }

    .swatch:hover {
      transform: scale(1.05);
    }

    .swatch:focus {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }

    .swatch-label {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.625rem;
      font-weight: 700;
      text-align: center;
      padding: 0.25rem;
    }

    .prose {
      max-width: 65ch;
    }

    .prose p {
      margin-bottom: var(--spacing-md);
      color: var(--color-text);
    }

    .prose section {
      margin-bottom: var(--spacing-xl);
    }

    .prose ul {
      margin-bottom: var(--spacing-md);
      padding-left: 1.5rem;
    }

    .prose li {
      margin-bottom: var(--spacing-xs);
      color: var(--color-text);
    }

    .prose code {
      background-color: var(--color-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-family: 'Courier New', monospace;
      font-size: 0.875em;
    }

    .callout {
      padding: var(--spacing-md);
      border-radius: var(--radius);
      margin-bottom: var(--spacing-md);
    }

    .callout-blue {
      background-color: #eff6ff;
      border-left: 4px solid #3b82f6;
    }

    .callout-green {
      background-color: #f0fdf4;
      border-left: 4px solid #22c55e;
    }

    .callout-amber {
      background-color: #fffbeb;
      border-left: 4px solid #f59e0b;
    }

    .callout-purple {
      background-color: #faf5ff;
      border-left: 4px solid #a855f7;
    }

    .callout-indigo {
      background-color: #eef2ff;
      border-left: 4px solid #6366f1;
    }

    .callout-title {
      font-weight: 600;
      margin-bottom: var(--spacing-xs);
    }

    .callout-content {
      font-size: 0.875rem;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .code-block {
      background-color: #1f2937;
      color: #f9fafb;
      padding: var(--spacing-md);
      border-radius: var(--radius);
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      overflow-x: auto;
      margin-bottom: var(--spacing-md);
      white-space: pre;
    }

    .code-comment {
      color: #34d399;
    }

    .advantage-list {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-md);
    }

    .advantage-item {
      display: flex;
      align-items: flex-start;
      gap: var(--spacing-md);
    }

    .advantage-number {
      width: 2rem;
      height: 2rem;
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
      margin-top: 0.25rem;
    }

    .advantage-number-1 { background-color: #dcfce7; color: #166534; }
    .advantage-number-2 { background-color: #dbeafe; color: #1e40af; }
    .advantage-number-3 { background-color: #f3e8ff; color: #6b21a8; }
    .advantage-number-4 { background-color: #fed7aa; color: #9a3412; }

    .border-accent {
      border-left: 4px solid;
      padding-left: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .border-blue { border-color: #3b82f6; }
    .border-green { border-color: #22c55e; }
    .border-purple { border-color: #a855f7; }

    @media (max-width: 768px) {
      h1 { font-size: 2rem; }
      h2 { font-size: 1.5rem; }
      h3 { font-size: 1.25rem; }
      .grid-2 { grid-template-columns: 1fr; }
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Dual Gradient Color System</h1>
      <p class="subtitle">49 semantic combinations from two orthogonal lightness gradients</p>
    </header>

    <nav role="tablist" aria-label="Color system sections">
      <button class="tab-button" role="tab" aria-selected="true" aria-controls="demo-panel" id="demo-tab">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
        </svg>
        Interactive Demo
      </button>
      <button class="tab-button" role="tab" aria-selected="false" aria-controls="grid-panel" id="grid-tab">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z" />
        </svg>
        Complete Matrix
      </button>
      <button class="tab-button" role="tab" aria-selected="false" aria-controls="docs-panel" id="docs-tab">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
        Documentation
      </button>
      <button class="tab-button" role="tab" aria-selected="false" aria-controls="theory-panel" id="theory-tab">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        System Theory
      </button>
    </nav>

    <main>
      <section id="demo-panel" class="tab-panel" role="tabpanel" aria-labelledby="demo-tab" aria-hidden="false">
        <h2>Interactive Matrix</h2>
        <div class="color-matrix">
          <table>
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Lightest</th>
                <th scope="col">Lighter</th>
                <th scope="col">Light</th>
                <th scope="col">Dim</th>
                <th scope="col">Dark</th>
                <th scope="col">Darker</th>
                <th scope="col">Darkest</th>
              </tr>
            </thead>
            <tbody id="matrix-body">
            </tbody>
          </table>
        </div>
        <div id="selected-color-info" style="display: none;" role="region" aria-live="polite"></div>
      </section>

      <section id="grid-panel" class="tab-panel" role="tabpanel" aria-labelledby="grid-tab" aria-hidden="true">
        <h2>All 49 Combinations</h2>
        <div class="swatch-grid" id="swatch-grid"></div>
      </section>

      <section id="docs-panel" class="tab-panel prose" role="tabpanel" aria-labelledby="docs-tab" aria-hidden="true">
        <h2>System Documentation</h2>
        
        <section>
          <h3>Naming Convention</h3>
          <p>Each color is named using the format: <code>[Relative] [Absolute]</code></p>
          
          <div class="callout callout-blue">
            <p class="callout-title">Example: "Light Shade"</p>
            <div class="callout-content">
              <ul>
                <li><strong>Light</strong> = Relatively light within its family</li>
                <li><strong>Shade</strong> = Absolutely positioned in the darker range</li>
                <li><strong>Result:</strong> A moderately dark color that's the lightest option in the Shade family</li>
              </ul>
            </div>
          </div>
        </section>

        <section>
          <h3>The Two Gradients</h3>
          
          <div style="margin-bottom: 1.5rem;">
            <h4>Relative Lightness (Comparative)</h4>
            <div class="callout callout-green">
              <p class="callout-content">Describes position <em>within</em> a color family:</p>
              <p class="callout-content" style="margin-top: 0.5rem;">
                <strong>1.</strong> Lightest → <strong>2.</strong> Lighter → <strong>3.</strong> Light → 
                <strong>4.</strong> Dim → <strong>5.</strong> Dark → <strong>6.</strong> Darker → 
                <strong>7.</strong> Darkest
              </p>
            </div>
          </div>

          <div>
            <h4>Absolute Lightness (Positional)</h4>
            <div class="callout callout-amber">
              <p class="callout-content">Describes absolute position on the lightness scale:</p>
              <p class="callout-content" style="margin-top: 0.5rem;">
                <strong>1.</strong> Paper → <strong>2.</strong> Tint → <strong>3.</strong> Wash → 
                <strong>4.</strong> Tone → <strong>5.</strong> Shade → <strong>6.</strong> Ink → 
                <strong>7.</strong> Black
              </p>
            </div>
          </div>
        </section>

        <section>
          <h3>Usage Guidelines</h3>
          
          <div class="callout callout-green">
            <p class="callout-title">✓ When to use this system</p>
            <ul class="callout-content">
              <li>Complex design systems requiring fine-grained control</li>
              <li>Applications with multiple color families and contexts</li>
              <li>When semantic clarity is more important than brevity</li>
              <li>For color palettes that need to work across light/dark modes</li>
            </ul>
          </div>
          
          <div class="callout callout-amber">
            <p class="callout-title">⚠ Considerations</p>
            <ul class="callout-content">
              <li>49 options can be overwhelming without clear documentation</li>
              <li>Naming can become verbose in code</li>
              <li>May need abbreviated versions for developer ergonomics</li>
              <li>Consider whether you truly need all 49 combinations</li>
            </ul>
          </div>
        </section>

        <section>
          <h3>Implementation Examples</h3>
          
          <div class="code-block"><span class="code-comment">/* CSS Custom Properties */</span>
--color-lightest-paper: hsl(220, 15%, 95%);
--color-dim-tone: hsl(220, 15%, 50%);
--color-darkest-black: hsl(220, 15%, 5%);

<span class="code-comment">/* Usage */</span>
.background {
  background-color: var(--color-lightest-paper);
}

.text-primary {
  color: var(--color-darkest-black);
}</div>

          <div class="code-block"><span class="code-comment">// JavaScript Object</span>
const colors = {
  lightestPaper: 'hsl(220, 15%, 95%)',
  dimTone: 'hsl(220, 15%, 50%)',
  darkestBlack: 'hsl(220, 15%, 5%)'
};

<span class="code-comment">// Usage</span>
element.style.backgroundColor = colors.lightestPaper;</div>

          <div class="code-block"><span class="code-comment">/* Tailwind Config */</span>
module.exports = {
  theme: {
    extend: {
      colors: {
        'lightest-paper': 'hsl(220 15% 95%)',
        'dim-tone': 'hsl(220 15% 50%)',
        'darkest-black': 'hsl(220 15% 5%)'
      }
    }
  }
}</div>
        </section>
      </section>

      <section id="theory-panel" class="tab-panel prose" role="tabpanel" aria-labelledby="theory-tab" aria-hidden="true">
        <h2>System Theory &amp; Design Principles</h2>
        
        <section>
          <h3>Conceptual Foundation</h3>
          <p>This dual-gradient system operates on the principle that color semantics can be understood through two orthogonal dimensions:</p>
          
          <div class="grid-2">
            <div class="callout callout-purple">
              <h4 class="callout-title">Relative Dimension</h4>
              <p class="callout-content">
                The comparative axis describes <em>relationships</em> within a context. "Lightest" doesn't mean an absolute value, but rather "the lightest option available in this family."
              </p>
              <p class="callout-content" style="font-style: italic; margin-top: 0.5rem;">
                Analogy: Like describing someone as "tall for their age group"
              </p>
            </div>
            
            <div class="callout callout-indigo">
              <h4 class="callout-title">Absolute Dimension</h4>
              <p class="callout-content">
                The positional axis describes <em>absolute location</em> on the lightness spectrum. "Shade" always occupies the same general region regardless of context.
              </p>
              <p class="callout-content" style="font-style: italic; margin-top: 0.5rem;">
                Analogy: Like describing someone's actual height in centimeters
              </p>
            </div>
          </div>
        </section>

        <section>
          <h3>Mathematical Model</h3>
          <div class="callout callout-blue">
            <p class="callout-content">The system can be modeled as:</p>
            <div class="code-block" style="margin-top: 0.5rem;">L = f(A, R)

where:
  L = final lightness value
  A = absolute position (Paper → Black)
  R = relative adjustment (Lightest → Darkest)</div>
          </div>
          <p style="font-size: 0.875rem; color: var(--color-text-muted);">
            In the current implementation, absolute position provides the base value, and relative position applies a modifier. This creates a 7×7 matrix with overlapping but distinct values.
          </p>
        </section>

        <section>
          <h3>Practical Advantages</h3>
          <div class="advantage-list">
            <div class="advantage-item">
              <div class="advantage-number advantage-number-1">1</div>
              <div>
                <h4>Contextual Flexibility</h4>
                <p style="font-size: 0.875rem; color: var(--color-text-muted);">
                  Designers can think in either relative terms ("I need something slightly darker") or absolute terms ("I need a shade-level color")
                </p>
              </div>
            </div>
            
            <div class="advantage-item">
              <div class="advantage-number advantage-number-2">2</div>
              <div>
                <h4>Semantic Clarity</h4>
                <p style="font-size: 0.875rem; color: var(--color-text-muted);">
                  Names communicate both position and intention, making code more readable: "dimTone" is immediately understandable as a middle-range color
                </p>
              </div>
            </div>
            
            <div class="advantage-item">
              <div class="advantage-number advantage-number-3">3</div>
              <div>
                <h4>Systematic Exploration</h4>
                <p style="font-size: 0.875rem; color: var(--color-text-muted);">
                  The grid structure encourages discovering relationships between colors and exploring neighboring options systematically
                </p>
              </div>
            </div>
            
            <div class="advantage-item">
              <div class="advantage-number advantage-number-4">4</div>
              <div>
                <h4>Extensibility</h4>
                <p style="font-size: 0.875rem; color: var(--color-text-muted);">
                  The system can extend to multiple hues while maintaining the same lightness structure, creating consistent relationships across color families
                </p>
              </div>
            </div>
          </div>
        </section>

        <section>
          <h3>Alternative Interpretations</h3>
          <p>The dual-gradient system can be understood through different lenses:</p>
          
          <div class="border-accent border-blue">
            <h4>As a Material Metaphor</h4>
            <p style="font-size: 0.875rem; color: var(--color-text-muted);">
              The absolute scale (Paper, Tint, Wash, etc.) references traditional art materials and techniques, while the relative scale adjusts the "application" of those materials
            </p>
          </div>
          
          <div class="border-accent border-green">
            <h4>As Perceptual States</h4>
            <p style="font-size: 0.875rem; color: var(--color-text-muted);">
              Each combination represents a distinct perceptual state with both objective position (absolute) and subjective context (relative)
            </p>
          </div>
          
          <div class="border-accent border-purple">
            <h4>As Functional Roles</h4>
            <p style="font-size: 0.875rem; color: var(--color-text-muted);">
              Combinations map to UI roles: backgrounds, surfaces, borders, text, emphasis levels, creating a systematic approach to color application
            </p>
          </div>
        </section>
      </section>
    </main>
  </div>

  <script>
    const relativeLightness = ['Lightest', 'Lighter', 'Light', 'Dim', 'Dark', 'Darker', 'Darkest'];
    const absoluteLightness = ['Paper', 'Tint', 'Wash', 'Tone', 'Shade', 'Ink', 'Black'];

    function getLightnessValue(relIdx, absIdx) {
      const absBase = 95 - (absIdx * 15);
      const relAdjust = (3 - relIdx) * 5;
      return Math.max(5, Math.min(95, absBase + relAdjust));
    }

    function getCombinationUse(relIdx, absIdx) {
      const uses = [
        ['Brightest highlights', 'Subtle accents', 'Light backgrounds', 'Neutral backgrounds', 'Text on light', 'Strong text', 'Maximum contrast'],
        ['Bright highlights', 'Soft accents', 'Canvas areas', 'Light content', 'Subdued text', 'Bold text', 'Heavy emphasis'],
        ['Soft highlights', 'Gentle accents', 'Pale fills', 'Mid-light tone', 'Medium text', 'Strong emphasis', 'Dark headers'],
        ['Subtle emphasis', 'Muted accents', 'Washed fills', 'Balanced tone', 'Standard text', 'Dark text', 'Deep shadows'],
        ['Gentle shadows', 'Quiet accents', 'Toned fills', 'Mid-dark tone', 'Inverted text', 'Heavy type', 'Maximum depth'],
        ['Medium shadows', 'Dark accents', 'Shaded fills', 'Dark backgrounds', 'Light on dark', 'Reversed text', 'Near-black'],
        ['Deep shadows', 'Darkest accents', 'Heavy fills', 'Almost black', 'Maximum contrast', 'Absolute black', 'Pure black']
      ];
      return uses[absIdx][relIdx];
    }

    function generateCombinations() {
      const combinations = [];
      relativeLightness.forEach((rel, relIdx) => {
        absoluteLightness.forEach((abs, absIdx) => {
          const lightness = getLightnessValue(relIdx, absIdx);
          combinations.push({
            name: `${rel} ${abs}`,
            short: `${rel.slice(0, 3)}-${abs.slice(0, 3)}`,
            relative: rel,
            absolute: abs,
            relIdx,
            absIdx,
            lightness,
            hsl: `hsl(220, 15%, ${lightness}%)`,
            description: `${rel} variant of ${abs} tone`,
            use: getCombinationUse(relIdx, absIdx)
          });
        });
      });
      return combinations;
    }

    const combinations = generateCombinations();

    // Build matrix table
    const matrixBody = document.getElementById('matrix-body');
    absoluteLightness.forEach((abs, absIdx) => {
      const row = document.createElement('tr');
      
      const headerCell = document.createElement('th');
      headerCell.scope = 'row';
      headerCell.textContent = abs;
      row.appendChild(headerCell);
      
      relativeLightness.forEach((rel, relIdx) => {
        const combo = combinations.find(c => c.relIdx === relIdx && c.absIdx === absIdx);
        const cell = document.createElement('td');
        cell.className = 'color-cell';
        
        const button = document.createElement('button');
        button.className = 'color-cell-button';
        button.style.backgroundColor = combo.hsl;
        button.setAttribute('aria-label', `Select ${combo.name}`);
        button.addEventListener('click', () => showColorInfo(combo));
        
        cell.appendChild(button);
        row.appendChild(cell);
      });
      
      matrixBody.appendChild(row);
    });

    // Build swatch grid
    const swatchGrid = document.getElementById('swatch-grid');
    combinations.forEach(combo => {
      const swatch = document.createElement('button');
      swatch.className = 'swatch';
      swatch.style.backgroundColor = combo.hsl;
      swatch.setAttribute('aria-label', `Select ${combo.name}`);
      swatch.addEventListener('click', () => showColorInfo(combo));
      
      const label = document.createElement('span');
      label.className = 'swatch-label';
      label.textContent = combo.short;
      label.style.color = combo.lightness > 50 ? '#000' : '#fff';
      label.style.textShadow = combo.lightness > 50 
        ? '0 1px 2px rgba(255,255,255,0.8)' 
        : '0 1px 2px rgba(0,0,0,0.8)';
      
      swatch.appendChild(label);
      swatchGrid.appendChild(swatch);
    });

    // Show color info
    function showColorInfo(combo) {
      const infoDiv = document.getElementById('selected-color-info');
      infoDiv.style.display = 'block';
      infoDiv.className = 'selected-color';
      
      infoDiv.innerHTML = `
        <div class="selected-color-header">
          <div>
            <h3 class="selected-color-title">${combo.name}</h3>
            <p class="selected-color-code">${combo.short}</p>
          </div>
          <div class="selected-color-swatch" style="background-color: ${combo.hsl}"></div>
        </div>
        <div class="selected-color-details">
          <div class="detail-item">
            <span class="detail-label">Relative:</span>
            <span class="detail-value">${combo.relative}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Absolute:</span>
            <span class="detail-value">${combo.absolute}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Lightness:</span>
            <span class="detail-value">${combo.lightness}%</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">HSL:</span>
            <span class="detail-value">${combo.hsl}</span>
          </div>
          <div class="detail-item" style="grid-column: 1 / -1;">
            <span class="detail-label">Typical Use:</span>
            <span class="detail-value">${combo.use}</span>
          </div>
        </div>
      `;
    }

    // Tab functionality
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabPanels = document.querySelectorAll('.tab-panel');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetId = button.getAttribute('aria-controls');
        
        tabButtons.forEach(btn => {
          btn.setAttribute('aria-selected', 'false');
        });
        
        tabPanels.forEach(panel => {
          panel.setAttribute('aria-hidden', 'true');
        });
        
        button.setAttribute('aria-selected', 'true');
        document.getElementById(targetId).setAttribute('aria-hidden', 'false');
      });
    });

    // Keyboard navigation for tabs
    let currentTabIndex = 0;
    const tabList = document.querySelector('nav[role="tablist"]');
    
    tabList.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
        e.preventDefault();
        
        if (e.key === 'ArrowRight') {
          currentTabIndex = (currentTabIndex + 1) % tabButtons.length;
        } else {
          currentTabIndex = (currentTabIndex - 1 + tabButtons.length) % tabButtons.length;
        }
        
        tabButtons[currentTabIndex].focus();
        tabButtons[currentTabIndex].click();
      }
    });
  </script>
</body>
</html>